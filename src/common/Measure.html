<script context="module">
  import { zero } from "./Util.html"
  export const createMeasure = title => {
    let _startTime
    //
    const _now = () => window.performance.now(),
      start = () => void (_startTime = _now()),
      stop = () => ~~((_now() - zero(_startTime)) * 1000) / 1000,
      measure = (action, ...arg) => (start(), action(...arg), stop())
    //
    /*** Component Interface ***/
    return {
      // static getter
      title,
      // setters
      start,
      stop,
      measure
    }
  }
</script>

<span class="tag is-medium is-info">{title}: {blank(diff)}ms</span>

<script>
  import { blank } from "./Util.html"
  export let title, diff
</script>
