<section class="container box">
  <span class="tag is-medium is-success is-light">Alive: {blank(_alive)}</span>
  <button
    class="button is-primary"
    id="next"
    disabled="{!_nextEnabled}"
    on:click
  >
    + Generation ({zero(_counter)})
  </button>
  <span class="tag is-medium is-success is-light">Birth: {blank(_birth)}</span>
  <span class="tag is-medium is-danger is-light">Dead: {blank(_dead)}</span>
  <Measure title="{calcTitle}" diff="{calcDiff}" />
  <span class="tag is-medium is-danger is-light">Death: {blank(_death)}</span>
  <span class="tag is-medium is-info is-light"
    >Total: {blank(_alive + _dead)}</span
  >
  <Measure title="{showTitle}" diff="{showDiff}" />
  <span class="tag is-medium is-info is-light">Total: {blank(_total)}</span>
</section>

<style>
  .container {
    display: grid;
    grid-template-columns: 1fr minmax(180px, 1fr) 1fr;
    align-items: center;
    grid-gap: 10px;
  }
</style>

<script>
  import Measure from "./common/Measure.html"
  import { blank, zero } from "./common/Util.html"

  /*** Default Component Interface ***/
  export let status, calcTitle, calcDiff, showTitle, showDiff

  /*** Observables ***/
  let _alive, _dead, _birth, _death, _total, _counter, _nextEnabled
  $: if (status) {
    _alive = status.alive()
    _dead = status.dead()
    _birth = status.birth()
    _death = status.death()
    _total = _birth + _death
    _counter = status.generation()
    _nextEnabled = _alive && _total
  }
</script>
